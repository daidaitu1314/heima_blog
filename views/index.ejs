<?- include('./layouts/header.ejs') ?>

<ul class="list-group">
  <!--循环创建文章列表-->
  <? for(var i = 0; i < articles.length; i++){ ?>
  <li class="list-group-item">
    <span class="badge" style="background-color:#337ab7;">发表时间：<?= articles[i].createdAt ?></span>
    <span class="badge" style="background-color:#f0ad4e;">作者：<?= articles[i].guestuser.nickname ?></span>
    <!--点击文章连接，跳转到文章查看页面-->
    <a href="/article/info?id=<?= articles[i].id ?>"><?= articles[i].title ?></a>
  </li>
  <? } ?>
</ul>

<nav aria-label="Page navigation">
  <ul class="pagination">
    <li>
      <!--前一页-->
      <a href="/?page=<?=  nowPage==1?1:nowPage-1 ?>" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    <!--循环创建页码-->
    <? for(var i= 0; i < totalPage; i++){ ?>
    <li class="<?= (i+1)==nowPage?'active':'' ?>" ><a href="/?page=<?= i+1 ?>"><?= i+1 ?></a></li>
    <? } ?>
    <li>
      <!--后一页-->
      <a href="/?page=<?= nowPage==totalPage?totalPage:parseInt(nowPage)+1 ?>" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</nav>

<?- include('./layouts/footer.ejs') ?>